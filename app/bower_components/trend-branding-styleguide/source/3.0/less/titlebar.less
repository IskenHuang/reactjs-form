/**
 *
 * UI Component Styles: Title Bar
 * CSS Stylesheet
 *
 * @author Wilson Hsu
 * @created 2014/04/18
 *
 */
@imagePath: '../img/trend';
@window_header_height: 40px;

// MU Main Window
//
// It is a Main window for MU Main console. You can just copy/paste the content except iframe tag markup.
//
// Markup:
// <iframe src="mu.html" width="640" height="480">
// <!doctype html>
// <html>
// <head>
//     <meta charset="utf-8" />
//     <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
//     <title>Trend Micro Styleguide</title>
//     <link rel="stylesheet" href="public/style.css" />
// </head>
// <body>
// <section class="window window--main display">
//     <div class="window__header window__header--redbar window__header--logo">
//         <div class="titlebar">
//             <div class="titlebar__dragable AMSP_UI_CLASS_DRAGABLE">
//                 <h1 class="titlebar__title p-3">DirectPass</h1>
//             </div>
//             <ul class="titlebar__list">
//                 <li class="titlebar__item">
//                     <button type="button" class="titlebar__control titlebar__support" title="Support">Support</button>
//                 </li>
//                 <li class="titlebar__item">
//                     <div class="titlebar__line titlebar__control"></div>
//                 </li>
//                 <li class="titlebar__item">
//                     <button id="btnMinWin" type="button" class="titlebar__control titlebar__minimize" title="Minimize">Minimize</button>
//                 </li>
//                 <li class="titlebar__item">
//                     <button type="button" class="titlebar__control titlebar__maximize maximize" title="Maxmize">Maxmize</button>
//                 </li>
//                 <li class="titlebar__item">
//                     <button type="button" class="titlebar__control titlebar__maximize restore" title="Restore">Restore</button>
//                 </li>
//                 <li class="titlebar__item close_item">
//                     <button type="button" class="titlebar__control titlebar__close p-4 js-titlebar__close">Close</button>
//                 </li>
//             </ul>
//         </div>
//     </div>
//     <div class="window__content">
//         <div class="tab-content"></div>
//     </div>
//     <footer class="window__footer">
//         <div class="footer-bar">
//             <p class="footer-bar__logo"></p>
//             <div class="footer-bar__buttons">
//                 <button class="btn btn-ruby btn-sm">test</button>
//             </div>
//         </div>
//     </footer>
// </secction>
// </body>
// </html>
// </iframe>
//
// Styleguide 12.2


// MU Titlebar icons
//
// We have predefined few title bar icons for mimicing an application window.
// Titanium Mini Browser will do event binding on button with id=btnMinWin.
//
// Markup:
// <ul>
//     <li class="titlebar__item">
//         <button type="button" class="titlebar__control titlebar__support" title="Support">Support</button>
//     </li>
//     <li class="titlebar__item">
//         <div class="titlebar__line titlebar__control"></div>
//     </li>
//     <li class="titlebar__item">
//         <button id="btnMinWin" type="button" class="titlebar__control titlebar__minimize" title="Minimize">Minimize</button>
//     </li>
//     <li class="titlebar__item">
//         <button type="button" class="titlebar__control titlebar__maximize maximize" title="Maxmize">Maxmize</button>
//     </li>
//     <li class="titlebar__item">
//         <button type="button" class="titlebar__control titlebar__maximize restore" title="Restore">Restore</button>
//     </li>
//     <li class="titlebar__item close_item">
//         <button type="button" class="titlebar__control titlebar__close p-4 js-titlebar__close">Close</button>
//     </li>
// </ul>
//
// StyleGuide 12.3



/* Titlebar (Use backbone to generate)
 ********************************/
.titlebar{
    position: relative;
    &__dragable {
        // According to different container to change its dimension
        // Not a good solution.
        .window--main & {
            height: 58px;
        }
        .window--child & {
            height: @window_header_height;
            line-height: @window_header_height;
        }

    }
    &__title {

        height: 40px;
        line-height: 40px;
        text-indent: 15px;
        color: #333;
    }


    &__control {
        border: none;
        text-indent: -9999em;
        height: 24px;
        width: 24px;
        margin-left: 3px;
        background-color: transparent;
        background-position-x: 0;
        background-position-y: 0;
        color: #555;
    }

    &__line {
        height: 34px;
        background: url("@{imagePath}/titlebar_line.png") center 0 no-repeat;
        position: relative;
        top: -8px;
    }
    &__list {
        position: absolute;
        top: 8px;
        right: 13px;
        list-style: none;
    }
    &__item {
        float: left;
        position: relative;
    }

    &__control:not(.titlebar__close, .titlebar__line) {
        // margin-right: 16px;
        &:hover, &:focus {
            background-position-y: -24px;
            color: #db3d44;
        }
        &:active {
            background-position-y: -48px;
            color: #db3d44;
            opacity: 0.4;
        }
        &:disabled {
            background-position-y: -72px;
            color: #bbbbbb;
        }
    }
    &__help {
        background-image: url("@{imagePath}/titlebar_help.png");
        background-position-x: 1px;
    }
    &__maximize {
        &.maximize {
            background-image: url("@{imagePath}/titlebar_maximize.png");
        }
        &.restore {
            background-image: url("@{imagePath}/titlebar_restore.png");
        }
        &:hover {
            background-position: 0 -24px;
        }
        &:active {
            background-position: 0 -48px;
        }
        &:disabled {
            background-position: 0 -72px;
        }
    }
    &__minimize {
        background-image: url("@{imagePath}/titlebar_minimize.png");
        &:hover {
            background-position: 0 -24px;
        }
        &:active {
            background-position: 0 -48px;
        }
        &:disabled {
            background-position: 0 -72px;
        }
    }
    &__support {
        background: transparent url("@{imagePath}/titlebar_support.png") 0 0 no-repeat;
        text-indent: 24px;
        padding: 0;
        &:hover {
            background-position: 0 -24px;
        }
        &:active {
            background-position: 0 -48px;
        }
        &:disabled {
            background-position: 0 -72px;
        }
    }
    &__close {
        color: #555;
        background-image: url("@{imagePath}/titlebar_close.png"), url("@{imagePath}/titlebar_close_circle.png");
        background-position: 0 0, 0 0;
        background-repeat: no-repeat;
        -webkit-animation-duration: 0.2s;
        -webkit-animation-timing-function: step-end;
        -webkit-animation-fill-mode: forwards;
        &:not(:disabled) {
            &.show_circle {
                -webkit-animation-name: show_circle;
            }
            &.hide_circle {
                -webkit-animation-name: hide_circle;
            }
            &:active {
                background-position: 0 -48px,0 0;
                color: #db3d44;
                opacity: 0.4;
            }
        }
        &:disabled {
            background-position: 0 -72px,0 0;
            color: #bbbbbb;
        }
    }
}

/* keyframes animation for close button
********************************/
@-webkit-keyframes show_circle {
    0%{
        background-position: 0 -24px, 0 0;
    }
    25% {
        background-position: 0 -24px, 0 -24px;
    }
    50% {
        background-position: 0 -24px, 0 -48px;
    }
    75% {
        background-position: 0 -24px, 0 -72px;
    }
    100% {
        background-position: 0 -24px, 0 -96px;
    }
}
@-webkit-keyframes hide_circle {
    0%{
        background-position: 0 -24px, 0 -96px;
    }
    25% {
        background-position: 0 -24px, 0 -72px;
    }
    50% {
        background-position: 0 -24px, 0 -48px;
    }
    75% {
        background-position: 0 -24px, 0 -24px;
    }
    100% {
        background-position: 0 0, 0 0;
    }
}